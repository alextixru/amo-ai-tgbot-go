
## üîí 1. Core Tools (–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏)
*–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–ª–∞–≤–Ω—ã–º–∏ –±–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç–∞–º–∏. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º.*

### üõ† Tool: `crm_leads`
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–¥–µ–ª–∫–∞–º–∏.
*   **–ú–µ—Ç–æ–¥—ã SDK:** `LeadsService.Get`, `LeadsService.GetOne`, `LeadsService.Create`, `LeadsService.Update`.
*   **–û–ø–µ—Ä–∞—Ü–∏–∏ (sub-actions):**
    1.  `search`: –ü–æ–∏—Å–∫ —Å–¥–µ–ª–æ–∫ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É (`query`, `status_id`, `pipeline_id`, `created_at`).
    2.  `get`: –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å–¥–µ–ª–∫–∏ –ø–æ ID (—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `with: ["contacts"]`).
    3.  `create`: –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏ (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç `price`, `status_id`, `title`).
    4.  `update`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏.
*   **Input Schema (—É–ø—Ä–æ—â–µ–Ω–Ω–æ):**
    ```json
    {
      "action": "search | get | create | update",
      "filter": { "query": "string", "pipeline_id": 123 }, // for search
      "id": 12345, // for get/update
      "data": { "title": "New Lead", "price": 1000 } // for create/update
    }
    ```

### üõ† Tool: `crm_contacts`
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏.
*   **–ú–µ—Ç–æ–¥—ã SDK:** `ContactsService.*`
*   **–õ–æ–≥–∏–∫–∞:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞ `crm_leads`. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–∞—Ç—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É/email (—á–µ—Ä–µ–∑ `query`) –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã.

### üõ† Tool: `crm_companies`
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–ø–∞–Ω–∏—è–º–∏.
*   **–ú–µ—Ç–æ–¥—ã SDK:** `CompaniesService.*`

### üõ† Tool: `crm_customers`
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏ (Customers).
*   **–ú–µ—Ç–æ–¥—ã SDK:** `CustomersService.*`

---

## üìö 2. Reference Tool (–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
*–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è "read-only" –¥–∞–Ω–Ω—ã—Ö. –°–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ LLM.*

### üõ† Tool: `crm_get_reference`
–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
*   **–í–∫–ª—é—á–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã:**
    *   `UsersService` (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
    *   `PipelinesService` (–í–æ—Ä–æ–Ω–∫–∏ –∏ —ç—Ç–∞–ø—ã)
    *   `TagsService` (–¢–µ–≥–∏)
    *   `EventsService` (–°–æ–±—ã—Ç–∏—è)
    *   `RolesService` (–†–æ–ª–∏)
    *   `CustomFieldsService` (–ü–æ–ª—è)
*   **–ú–µ—Ç–æ–¥—ã SDK:** –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `Service.Get` –∏–ª–∏ `Service.GetOne` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `type`.
*   **Input Schema:**
    ```json
    {
      "reference_type": "users | pipelines | tags | roles | fields",
      "id": 123, // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –ï—Å–ª–∏ –∑–∞–¥–∞–Ω–æ -> GetOne, –∏–Ω–∞—á–µ -> Get(list)
      "limit": 50
    }
    ```
*   **–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** *"–ö—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ —Å–¥–µ–ª–∫—É 123?"* -> –°–Ω–∞—á–∞–ª–∞ `crm_leads(get)`, –≤–∏–¥–∏–º ID —é–∑–µ—Ä–∞ -> `crm_get_reference(users, id=user_id)`.

---

## üîó 3. Connectivity Tool (–°–≤—è–∑–∏)
*–í—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–æ–º —Å–≤—è–∑–µ–π.*

### üõ† Tool: `crm_manage_links`
*   **–ú–µ—Ç–æ–¥—ã SDK:** `LinksService.Link`, `LinksService.Unlink`, –∞ —Ç–∞–∫–∂–µ –º–µ—Ç–æ–¥—ã `Link` —É –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
*   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –∫ —Å–¥–µ–ª–∫–µ, –∫–æ–º–ø–∞–Ω–∏—é –∫ –∫–æ–Ω—Ç–∞–∫—Ç—É –∏ —Ç.–¥.
*   **Input Schema:**
    ```json
    {
      "action": "link | unlink",
      "from_entity": { "type": "leads", "id": 100 },
      "to_entity": { "type": "contacts", "id": 200 }
    }
    ```

---

## ‚ö° 4. Operations Tools (–û–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å–æ–±—ã—Ç–∏—è)
*–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π.*

### üõ† Tool: `crm_tasks`
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏.
*   **–ú–µ—Ç–æ–¥—ã SDK:** `TasksService.*`
*   **–û–ø–µ—Ä–∞—Ü–∏–∏:** `create`, `list`, `complete`.
*   **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ó–∞–¥–∞—á–∏ "–∂–∏–≤—É—Ç" –æ—Ç–¥–µ–ª—å–Ω–æ, –Ω–æ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ —Å—É—â–Ω–æ—Å—Ç—è–º.

### üõ† Tool: `crm_notes`
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è–º–∏ –∏ timeline.
*   **–ú–µ—Ç–æ–¥—ã SDK:** `NotesService.*`
*   **–û–ø–µ—Ä–∞—Ü–∏–∏:** `create` (–¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –≤ —Å–¥–µ–ª–∫—É), `list`.

---

## –ò—Ç–æ–≥–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (Summary map)

| Genkit Tool Name | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –í–∫–ª—é—á–µ–Ω–Ω—ã–µ SDK –°–µ—Ä–≤–∏—Å—ã | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| **`crm_leads`** | Core | `Leads` | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CRUD |
| **`crm_contacts`** | Core | `Contacts` | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CRUD |
| **`crm_companies`** | Core | `Companies` | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CRUD |
| **`crm_customers`** | Core | `Customers` | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CRUD |
| **`crm_get_reference`** | Ref | `Users`, `Pipelines`, `Tags`, `Roles`, `Fields` | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ (Read-only) |
| **`crm_manage_links`** | Links | `Links` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏ |
| **`crm_tasks`** | Ops | `Tasks` | –ó–∞–¥–∞—á–∏ |
| **`crm_notes`** | Ops | `Notes` | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—É—Ä—ã:**
1.  **–ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å:** –í–º–µ—Å—Ç–æ 37 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –º—ã –ø–æ–ª—É—á–∞–µ–º **8 –º–æ—â–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**.
2.  **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è AI:** –ú–æ–¥–µ–ª–∏ –ø—Ä–æ—â–µ –≤—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–°–¥–µ–ª–∫–∞ –∏–ª–∏ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫?), —á–µ–º –∏—Å–∫–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Ç–æ–¥.
3.  **–ì–∏–±–∫–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (Go):** –í–Ω—É—Ç—Ä–∏ `crm_get_reference` –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å generics –∏–ª–∏ switch-case, –Ω–µ –º–µ–Ω—è—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è AI.